<h2 mat-dialog-title>Customer Information</h2>
<mat-dialog-content>

  <!-- First Card: Customer Basic Info -->
  <mat-card class="mb-3 p-3">
    <div class="row g-3">
      <div class="col-md-6"><strong class="heading">Name:</strong> <span class="value">{{ customer.name }}</span></div>
      <div class="col-md-6"><strong class="heading">Customer ID:</strong> <span class="value">{{ customer.id }}</span></div>
      <div class="col-md-6"><strong class="heading">Email:</strong> <span class="value">{{ customer.email }}</span></div>
      <div class="col-md-6"><strong class="heading">Phone:</strong> <span class="value">{{ customer.phone }}</span></div>
    </div>
  </mat-card>

  <!-- Second Card: Transaction History -->
  <mat-card class="mb-3 p-3">
    <h6 class="fw-bold mb-2">Transaction History</h6>
    <table mat-table [dataSource]="customer.transactions" class="mat-elevation-z1 w-100">

      <ng-container matColumnDef="date">
        <th mat-header-cell *matHeaderCellDef>Date</th>
        <td mat-cell *matCellDef="let t">{{ t.date }}</td>
      </ng-container>

      <ng-container matColumnDef="type">
        <th mat-header-cell *matHeaderCellDef>Type</th>
        <td mat-cell *matCellDef="let t">{{ t.type }}</td>
      </ng-container>

      <ng-container matColumnDef="amount">
        <th mat-header-cell *matHeaderCellDef>Amount</th>
        <td mat-cell *matCellDef="let t">₹{{ t.amount }}</td>
      </ng-container>

      <tr mat-header-row *matHeaderRowDef="['date','type','amount']"></tr>
      <tr mat-row *matRowDef="let row; columns: ['date','type','amount'];"></tr>
    </table>
  </mat-card>

  <!-- Third Card: Account Information -->
  <mat-card class="p-3">
    <div class="row g-3">
      <div class="col-md-6">
        <mat-form-field appearance="outline" class="w-100">
          <mat-label>Account Number</mat-label>
          <mat-select [(ngModel)]="selectedAccount">
            <mat-option *ngFor="let a of accounts" [value]="a">{{ a.accountNumber }}</mat-option>
          </mat-select>
        </mat-form-field>

        <mat-form-field appearance="outline" class="w-100 mt-3">
          <mat-label>FTC Card</mat-label>
          <mat-select>
            <mat-option *ngFor="let card of ftcCards" [value]="card">{{ card }}</mat-option>
          </mat-select>
        </mat-form-field>
      </div>

      <div class="col-md-6" *ngIf="selectedAccount">
        <div><strong>Balance:</strong> ₹{{ selectedAccount.balance }}</div>
        <div><strong>Branch:</strong> {{ selectedAccount.branch }}</div>
      </div>
    </div>
  </mat-card>

</mat-dialog-content>

<mat-dialog-actions align="end">
  <button mat-flat-button color="primary" (click)="dialogRef.close()">Close</button>
</mat-dialog-actions>
